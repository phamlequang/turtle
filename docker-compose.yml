version: '3'
volumes:
  postgres_data:
    external: false
  redis_data:
    external: false
services:
  camellia:
    image: rust:latest
    ports:
      - 8000:8000
    working_dir: /app
    volumes:
      - /Users/phamlequang/projects/flowers/camellia:/app
    env_file:
      - /Users/phamlequang/projects/flowers/camellia/.env
    depends_on:
      - postgres
      - redis
    command: cargo run
  lotus:
    image: rust:latest
    ports:
      - 8001:8001
    working_dir: /app
    volumes:
      - /Users/phamlequang/projects/flowers/lotus:/app
    env_file:
      - /Users/phamlequang/projects/flowers/lotus/.env
    depends_on:
      - postgres
    command: cargo run
